<!DOCTYPE html>
<html>
<head>
    <title>ShinobiWay</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        body { background-color: #000; color: #fff; font-family: Arial, sans-serif; }
        button { background-color: #fff; color: #000; padding: 5px 10px; margin: 5px; }
        #log { height: 100px; overflow-y: auto; }
    </style>
</head>
<body>
    <div id="player-status">Shinobi [HP: <span class="player-hp">10/10</span>]</div>
    <div id="enemy-status">Enemy [HP: <span class="enemy-hp">0/0</span>]</div>
    <div id="skill-count">Skill cards: 0</div>
    <div id="output">Welcome to ShinobiWay! Click Start to begin!</div>
    <div id="controls">
        <button class="start-button" onclick="startGame()">Start Game</button>
    </div>
    <div id="log">Log started...</div>

    <script>
        let game = {
            player: { name: "Shinobi", hp: 10, maxHp: 10, Rank: "Student", skills: [], skillInventory: [] },
            gameState: "start"
        };

        function log(msg) {
            const el = document.getElementById('log');
            el.innerHTML += '<br>' + msg;
        }

        function startGame() {
            log('Starting game at ' + new Date().toLocaleTimeString() + '...');
            game.output = ["Train to become a Shinobi!"];
            document.getElementById("output").innerHTML = game.output.join("<br>");
            game.gameState = "chooseStyles";
            log('Setting up style selection...');
            let controls = document.getElementById("controls");
            controls.innerHTML = "";
            ["Fire", "Illusion"].forEach(style => {
                let button = document.createElement("button");
                button.innerText = style;
                button.onclick = () => selectStyle(style);
                controls.appendChild(button);
                log('Added ' + style + ' button');
            });
        }

        function selectStyle(style) {
            if (game.player.skills.length < 2) {
                game.player.skills.push(style);
                log(style + ' selected!');
                document.getElementById("skill-count").innerText = `Skill cards: ${game.player.skills.length}`;
                let controls = document.getElementById("controls");
                controls.innerHTML = "";
                if (game.player.skills.length === 2) {
                    log('Both styles selected, ready to play!');
                    game.gameState = "battle";
                    document.getElementById("output").innerHTML += "<br>Battle ready!";
                } else {
                    startGame();
                }
            }
        }
    </script>
</body>
</html>
