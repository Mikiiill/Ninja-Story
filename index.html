<!DOCTYPE html>
<html lang="en">
<head>
    <title>ShinobiWay</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        body {
            background-image: url('https://raw.githubusercontent.com/Mikiiill/ShinobiWay/refs/heads/main/Assets/Back.png');
            background-repeat: no-repeat;
            background-size: cover;
            background-color: #000;
            color: #fff;
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            height: 100vh;
            overflow: hidden;
        }
        .menu {
            width: 90%;
            text-align: center;
            margin: 20px;
        }
        input {
            width: 80%;
            padding: 10px;
            margin: 10px 0;
            border: 2px solid #ff4500; /* Naruto orange accent */
            background-color: #333;
            color: #fff;
            font-size: 1.2rem;
        }
        button {
            background-color: #ff4500; /* Naruto orange */
            color: #fff;
            border: 2px solid #fff;
            padding: 15px 30px;
            font-size: 1.5rem;
            cursor: pointer;
            transition: background-color 0.3s;
            min-width: 150px;
            margin: 10px;
        }
        button:hover {
            background-color: #ff8c00; /* Darker orange */
        }
        .confirmation {
            font-size: 1.5rem;
            color: #00ff00; /* Green for success */
            margin: 20px;
        }
    </style>
</head>
<body>
    <div class="menu" id="main-menu">
        <h1>ShinobiWay</h1>
        <button onclick="showSignIn()">Sign In</button>
        <button onclick="startAsGuest()">Guest</button>
    </div>
    <div class="menu" id="sign-in" style="display: none;">
        <h1>Sign In</h1>
        <input type="email" id="email-input" placeholder="Enter your email">
        <button onclick="signIn()">Verify and Sign In</button>
    </div>
    <div class="menu" id="name-input" style="display: none;">
        <h1>Create Character</h1>
        <input type="text" id="name-input" placeholder="Enter character name">
        <button onclick="createCharacter()">Create</button>
    </div>
    <div class="confirmation" id="confirmation" style="display: none;"></div>

    <script>
        function showSignIn() {
            document.getElementById("main-menu").style.display = "none";
            document.getElementById("sign-in").style.display = "block";
        }

        function signIn() {
            const email = document.getElementById("email-input").value;
            if (email) {
                // Simulate email verification (real version would send an email)
                const verificationCode = Math.floor(Math.random() * 10000); // Mock code
                const inputCode = prompt("Enter verification code sent to your email (mock code: " + verificationCode + ")");

                if (inputCode == verificationCode) {
                    // Load saved data from localStorage (keyed by email)
                    const savedData = localStorage.getItem(email);
                    if (savedData) {
                        const playerData = JSON.parse(savedData);
                        alert("Welcome back, " + playerData.name + "! Loaded from last location: " + playerData.location);
                        // Load game state (stats, location, events)
                    } else {
                        alert("No account found. Creating new one.");
                        startAsGuest(true, email); // Create new character and save to email
                    }
                } else {
                    alert("Verification failed. Try again.");
                }
            } else {
                alert("Enter a valid email.");
            }
        }

        function startAsGuest(isNewAccount = false, email = null) {
            document.getElementById("sign-in").style.display = "none";
            document.getElementById("main-menu").style.display = "none";
            document.getElementById("name-input").style.display = "block";
        }

        function createCharacter() {
            const name = document.getElementById("name-input").value;
            if (name) {
                document.getElementById("name-input").style.display = "none";
                document.getElementById("confirmation").style.display = "block";
                document.getElementById("confirmation").innerText = "new character " + name + "!";
                // Save to localStorage (for guest or new account)
                localStorage.setItem("player", JSON.stringify({ name: name, hp: 10, location: "Newb Village" }));
                console.log("Character created and saved:", name);
                // Future: Start game logic (travel, training, etc.)
            } else {
                alert("Enter a name!");
            }
        }
    </script>
</body>
</html>
